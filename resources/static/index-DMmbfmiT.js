import{c as l,I as U,_ as K,o as Z,f as st,a as it,P as S,d as oe,s as E,b as qe,n as de,w as X,e as Xe,g as he,T as we,h as $e,v as Pe,i as V,j as Ye,K as ct,k as Ge,r as N,l as ut,m as dt,p as ft,q as pt,t as R,u as vt,x as mt,y as gt,z as Me,A as je,N as bt,B as be,C as yt,D as ht,E as wt,F as Ot,G as Y,H as f,J as a,M as xt,L as g,O as A,Q as L,R as Je,S as q,U as Ct,V as _t,W as St,X as ze,Y as Q,Z as te,$ as z,a0 as Qe,a1 as Ze,a2 as kt,a3 as $t,a4 as J,a5 as Pt,a6 as Mt,a7 as jt}from"./index-C7H9JDPK.js";import{D as zt}from"./DeleteOutlined-By82Kuet.js";import{_ as Dt,a as Bt,M as Ke,b as et}from"./index-DIVdKADz.js";import{S as Nt}from"./index-BMHTWuFZ.js";import{D as Ht}from"./index-CYti3owY.js";import{C as ye}from"./slide-BQfTd_Ji.js";import{U as Tt}from"./UserOutlined-V6Vp5Vf0.js";const De=e=>!isNaN(parseFloat(e))&&isFinite(e);var It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){At(e,r,n[r])})}return e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(t,n){var o=Be({},t,n.attrs);return l(U,Be({},o,{icon:It}),null)};fe.displayName="CalendarOutlined";fe.inheritAttrs=!1;const tt=()=>({prefixCls:String,width:S.oneOfType([S.string,S.number]),height:S.oneOfType([S.string,S.number]),style:{type:Object,default:void 0},class:String,rootClassName:String,rootStyle:Z(),placement:{type:String},wrapperClassName:String,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:String,ease:String,showMask:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},afterVisibleChange:Function,keyboard:{type:Boolean,default:void 0},contentWrapperStyle:it(),autofocus:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},motion:st(),maskMotion:Z()}),Lt=()=>K(K({},tt()),{forceRender:{type:Boolean,default:void 0},getContainer:S.oneOfType([S.string,S.func,S.object,S.looseBool])}),Et=()=>K(K({},tt()),{getContainer:Function,getOpenCount:Function,scrollLocker:S.any,inline:Boolean});function Vt(e){return Array.isArray(e)?e:[e]}const Ft={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"};Object.keys(Ft).filter(e=>{if(typeof document>"u")return!1;const t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})})[0];const Rt=!(typeof window<"u"&&window.document&&window.document.createElement);var Ut=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Ne=oe({compatConfig:{MODE:3},inheritAttrs:!1,props:Et(),emits:["close","handleClick","change"],setup(e,t){let{emit:n,slots:o}=t;const r=E(),k=E(),M=E(),$=E(),C=E();let w=[];`${Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)}`,qe(()=>{de(()=>{var c;const{open:v,getContainer:P,showMask:B,autofocus:D}=e,j=P?.();p(e),v&&(j&&(j.parentNode,document.body),de(()=>{D&&h()}),B&&((c=e.scrollLocker)===null||c===void 0||c.lock()))})}),X(()=>e.level,()=>{p(e)},{flush:"post"}),X(()=>e.open,()=>{const{open:c,getContainer:v,scrollLocker:P,showMask:B,autofocus:D}=e,j=v?.();j&&(j.parentNode,document.body),c?(D&&h(),B&&P?.lock()):P?.unLock()},{flush:"post"}),Xe(()=>{var c;const{open:v}=e;v&&(document.body.style.touchAction=""),(c=e.scrollLocker)===null||c===void 0||c.unLock()}),X(()=>e.placement,c=>{c&&(C.value=null)});const h=()=>{var c,v;(v=(c=k.value)===null||c===void 0?void 0:c.focus)===null||v===void 0||v.call(c)},s=c=>{n("close",c)},b=c=>{c.keyCode===ct.ESC&&(c.stopPropagation(),s(c))},O=()=>{const{open:c,afterVisibleChange:v}=e;v&&v(!!c)},p=c=>{let{level:v,getContainer:P}=c;if(Rt)return;const B=P?.(),D=B?B.parentNode:null;w=[],v==="all"?(D?Array.prototype.slice.call(D.children):[]).forEach(H=>{H.nodeName!=="SCRIPT"&&H.nodeName!=="STYLE"&&H.nodeName!=="LINK"&&H!==B&&w.push(H)}):v&&Vt(v).forEach(j=>{document.querySelectorAll(j).forEach(H=>{w.push(H)})})},y=c=>{n("handleClick",c)},d=E(!1);return X(k,()=>{de(()=>{d.value=!0})}),()=>{var c,v;const{width:P,height:B,open:D,prefixCls:j,placement:H,level:G,levelMove:ee,ease:re,duration:le,getContainer:se,onChange:ie,afterVisibleChange:ce,showMask:ne,maskClosable:m,maskStyle:x,keyboard:W,getOpenCount:i,scrollLocker:u,contentWrapperStyle:_,style:T,class:F,rootClassName:ae,rootStyle:I,maskMotion:nt,motion:ge,inline:ot}=e,rt=Ut(e,["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class","rootClassName","rootStyle","maskMotion","motion","inline"]),ue=D&&d.value,at=he(j,{[`${j}-${H}`]:!0,[`${j}-open`]:ue,[`${j}-inline`]:ot,"no-mask":!ne,[ae]:!0}),lt=typeof ge=="function"?ge(H):ge;return l("div",V(V({},Ye(rt,["autofocus"])),{},{tabindex:-1,class:at,style:I,ref:k,onKeydown:ue&&W?b:void 0}),[l(we,nt,{default:()=>[ne&&$e(l("div",{class:`${j}-mask`,onClick:m?s:void 0,style:x,ref:M},null),[[Pe,ue]])]}),l(we,V(V({},lt),{},{onAfterEnter:O,onAfterLeave:O}),{default:()=>[$e(l("div",{class:`${j}-content-wrapper`,style:[_],ref:r},[l("div",{class:[`${j}-content`,F],style:T,ref:C},[(c=o.default)===null||c===void 0?void 0:c.call(o)]),o.handler?l("div",{onClick:y,ref:$},[(v=o.handler)===null||v===void 0?void 0:v.call(o)]):null]),[[Pe,ue]])]})])}}});var He=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Wt=oe({compatConfig:{MODE:3},inheritAttrs:!1,props:Ge(Lt(),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:()=>{},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],setup(e,t){let{emit:n,slots:o}=t;const r=N(null),k=$=>{n("handleClick",$)},M=$=>{n("close",$)};return()=>{const{getContainer:$,wrapperClassName:C,rootClassName:w,rootStyle:h,forceRender:s}=e,b=He(e,["getContainer","wrapperClassName","rootClassName","rootStyle","forceRender"]);let O=null;if(!$)return l(Ne,V(V({},b),{},{rootClassName:w,rootStyle:h,open:e.open,onClose:M,onHandleClick:k,inline:!0}),o);const p=!!o.handler||s;return(p||e.open||r.value)&&(O=l(ut,{autoLock:!0,visible:e.open,forceRender:p,getContainer:$,wrapperClassName:C},{default:y=>{var{visible:d,afterClose:c}=y,v=He(y,["visible","afterClose"]);return l(Ne,V(V(V({ref:r},b),v),{},{rootClassName:w,rootStyle:h,open:d!==void 0?d:e.open,afterVisibleChange:c!==void 0?c:e.afterVisibleChange,onClose:M,onHandleClick:k}),o)}})),O}}}),qt=e=>{const{componentCls:t,motionDurationSlow:n}=e,o={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}}};return{[t]:{[`${t}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${n}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${t}-panel-motion`]:{"&-left":[o,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[o,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[o,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[o,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},Xt=e=>{const{componentCls:t,zIndexPopup:n,colorBgMask:o,colorBgElevated:r,motionDurationSlow:k,motionDurationMid:M,padding:$,paddingLG:C,fontSizeLG:w,lineHeightLG:h,lineWidth:s,lineType:b,colorSplit:O,marginSM:p,colorIcon:y,colorIconHover:d,colorText:c,fontWeightStrong:v,drawerFooterPaddingVertical:P,drawerFooterPaddingHorizontal:B}=e,D=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none","&-pure":{position:"relative",background:r,[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:n,background:o,pointerEvents:"auto"},[D]:{position:"absolute",zIndex:n,transition:`all ${k}`,"&-hidden":{display:"none"}},[`&-left > ${D}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${D}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${D}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${D}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-content`]:{width:"100%",height:"100%",overflow:"auto",background:r,pointerEvents:"auto"},[`${t}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${$}px ${C}px`,fontSize:w,lineHeight:h,borderBottom:`${s}px ${b} ${O}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:{display:"inline-block",marginInlineEnd:p,color:y,fontWeight:v,fontSize:w,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${M}`,textRendering:"auto","&:focus, &:hover":{color:d,textDecoration:"none"}},[`${t}-title`]:{flex:1,margin:0,color:c,fontWeight:e.fontWeightStrong,fontSize:w,lineHeight:h},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:C,overflow:"auto"},[`${t}-footer`]:{flexShrink:0,padding:`${P}px ${B}px`,borderTop:`${s}px ${b} ${O}`},"&-rtl":{direction:"rtl"}}}},Yt=dt("Drawer",e=>{const t=ft(e,{drawerFooterPaddingVertical:e.paddingXS,drawerFooterPaddingHorizontal:e.padding});return[Xt(t),qt(t)]},e=>({zIndexPopup:e.zIndexPopupBase}));var Gt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Jt=["top","right","bottom","left"],Te={distance:180},Qt=()=>({autofocus:{type:Boolean,default:void 0},closable:{type:Boolean,default:void 0},closeIcon:S.any,destroyOnClose:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},getContainer:{type:[String,Function,Boolean,Object],default:void 0},maskClosable:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},maskStyle:Z(),rootClassName:String,rootStyle:Z(),size:{type:String},drawerStyle:Z(),headerStyle:Z(),bodyStyle:Z(),contentWrapperStyle:{type:Object,default:void 0},title:S.any,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},width:S.oneOfType([S.string,S.number]),height:S.oneOfType([S.string,S.number]),zIndex:Number,prefixCls:String,push:S.oneOfType([S.looseBool,{type:Object}]),placement:S.oneOf(Jt),keyboard:{type:Boolean,default:void 0},extra:S.any,footer:S.any,footerStyle:Z(),level:S.any,levelMove:{type:[Number,Array,Function]},handle:S.any,afterVisibleChange:Function,onAfterVisibleChange:Function,onAfterOpenChange:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onClose:Function}),Zt=oe({compatConfig:{MODE:3},name:"ADrawer",inheritAttrs:!1,props:Ge(Qt(),{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:Te}),slots:Object,setup(e,t){let{emit:n,slots:o,attrs:r}=t;const k=E(!1),M=E(!1),$=E(null),C=E(!1),w=E(!1),h=R(()=>{var i;return(i=e.open)!==null&&i!==void 0?i:e.visible});X(h,()=>{h.value?C.value=!0:w.value=!1},{immediate:!0}),X([h,C],()=>{h.value&&C.value&&(w.value=!0)},{immediate:!0});const s=vt("parentDrawerOpts",null),{prefixCls:b,getPopupContainer:O,direction:p}=mt("drawer",e),[y,d]=Yt(b),c=R(()=>e.getContainer===void 0&&O?.value?()=>O.value(document.body):e.getContainer);gt(!e.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead"),ht("parentDrawerOpts",{setPush:()=>{k.value=!0},setPull:()=>{k.value=!1,de(()=>{B()})}}),qe(()=>{h.value&&s&&s.setPush()}),Xe(()=>{s&&s.setPull()}),X(w,()=>{s&&(w.value?s.setPush():s.setPull())},{flush:"post"});const B=()=>{var i,u;(u=(i=$.value)===null||i===void 0?void 0:i.domFocus)===null||u===void 0||u.call(i)},D=i=>{n("update:visible",!1),n("update:open",!1),n("close",i)},j=i=>{var u;i||(M.value===!1&&(M.value=!0),e.destroyOnClose&&(C.value=!1)),(u=e.afterVisibleChange)===null||u===void 0||u.call(e,i),n("afterVisibleChange",i),n("afterOpenChange",i)},H=R(()=>{const{push:i,placement:u}=e;let _;return typeof i=="boolean"?_=i?Te.distance:0:_=i.distance,_=parseFloat(String(_||0)),u==="left"||u==="right"?`translateX(${u==="left"?_:-_}px)`:u==="top"||u==="bottom"?`translateY(${u==="top"?_:-_}px)`:null}),G=R(()=>{var i;return(i=e.width)!==null&&i!==void 0?i:e.size==="large"?736:378}),ee=R(()=>{var i;return(i=e.height)!==null&&i!==void 0?i:e.size==="large"?736:378}),re=R(()=>{const{mask:i,placement:u}=e;if(!w.value&&!i)return{};const _={};return u==="left"||u==="right"?_.width=De(G.value)?`${G.value}px`:G.value:_.height=De(ee.value)?`${ee.value}px`:ee.value,_}),le=R(()=>{const{zIndex:i,contentWrapperStyle:u}=e,_=re.value;return[{zIndex:i,transform:k.value?H.value:void 0},K({},u),_]}),se=i=>{const{closable:u,headerStyle:_}=e,T=be(o,e,"extra"),F=be(o,e,"title");return!F&&!u?null:l("div",{class:he(`${i}-header`,{[`${i}-header-close-only`]:u&&!F&&!T}),style:_},[l("div",{class:`${i}-header-title`},[ie(i),F&&l("div",{class:`${i}-title`},[F])]),T&&l("div",{class:`${i}-extra`},[T])])},ie=i=>{var u;const{closable:_}=e,T=o.closeIcon?(u=o.closeIcon)===null||u===void 0?void 0:u.call(o):e.closeIcon;return _&&l("button",{key:"closer",onClick:D,"aria-label":"Close",class:`${i}-close`},[T===void 0?l(yt,null,null):T])},ce=i=>{var u;if(M.value&&!e.forceRender&&!C.value)return null;const{bodyStyle:_,drawerStyle:T}=e;return l("div",{class:`${i}-wrapper-body`,style:T},[se(i),l("div",{key:"body",class:`${i}-body`,style:_},[(u=o.default)===null||u===void 0?void 0:u.call(o)]),ne(i)])},ne=i=>{const u=be(o,e,"footer");if(!u)return null;const _=`${i}-footer`;return l("div",{class:_,style:e.footerStyle},[u])},m=R(()=>he({"no-mask":!e.mask,[`${b.value}-rtl`]:p.value==="rtl"},e.rootClassName,d.value)),x=R(()=>Me(je(b.value,"mask-motion"))),W=i=>Me(je(b.value,`panel-motion-${i}`));return()=>{const{width:i,height:u,placement:_,mask:T,forceRender:F}=e,ae=Gt(e,["width","height","placement","mask","forceRender"]),I=K(K(K({},r),Ye(ae,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","onAfterVisibleChange","onClose","onUpdate:visible","onUpdate:open","visible"])),{forceRender:F,onClose:D,afterVisibleChange:j,handler:!1,prefixCls:b.value,open:w.value,showMask:T,placement:_,ref:$});return y(l(bt,null,{default:()=>[l(Wt,V(V({},I),{},{maskMotion:x.value,motion:W,width:G.value,height:ee.value,getContainer:c.value,rootClassName:m.value,rootStyle:e.rootStyle,contentWrapperStyle:le.value}),{handler:e.handle?()=>e.handle:o.handle,default:()=>ce(b.value)})]}))}}}),Kt=pt(Zt);var en={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M766.4 744.3c43.7 0 79.4-36.2 79.4-80.5 0-53.5-79.4-140.8-79.4-140.8S687 610.3 687 663.8c0 44.3 35.7 80.5 79.4 80.5zm-377.1-44.1c7.1 7.1 18.6 7.1 25.6 0l256.1-256c7.1-7.1 7.1-18.6 0-25.6l-256-256c-.6-.6-1.3-1.2-2-1.7l-78.2-78.2a9.11 9.11 0 00-12.8 0l-48 48a9.11 9.11 0 000 12.8l67.2 67.2-207.8 207.9c-7.1 7.1-7.1 18.6 0 25.6l255.9 256zm12.9-448.6l178.9 178.9H223.4l178.8-178.9zM904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z"}}]},name:"bg-colors",theme:"outlined"};function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){tn(e,r,n[r])})}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(t,n){var o=Ie({},t,n.attrs);return l(U,Ie({},o,{icon:en}),null)};Oe.displayName="BgColorsOutlined";Oe.inheritAttrs=!1;var nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"};function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){on(e,r,n[r])})}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(t,n){var o=Ae({},t,n.attrs);return l(U,Ae({},o,{icon:nn}),null)};xe.displayName="BulbOutlined";xe.inheritAttrs=!1;var rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v584zM688 420h-55.2c-5.1 0-10 2.5-13 6.6L468.9 634.4l-64.7-89c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.4 0-12.8-6.5-12.8z"}}]},name:"carry-out",theme:"outlined"};function Le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){an(e,r,n[r])})}return e}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(t,n){var o=Le({},t,n.attrs);return l(U,Le({},o,{icon:rn}),null)};pe.displayName="CarryOutOutlined";pe.inheritAttrs=!1;var ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){sn(e,r,n[r])})}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=function(t,n){var o=Ee({},t,n.attrs);return l(U,Ee({},o,{icon:ln}),null)};ve.displayName="FieldTimeOutlined";ve.inheritAttrs=!1;var cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){un(e,r,n[r])})}return e}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=function(t,n){var o=Ve({},t,n.attrs);return l(U,Ve({},o,{icon:cn}),null)};Ce.displayName="MenuFoldOutlined";Ce.inheritAttrs=!1;var dn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){fn(e,r,n[r])})}return e}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(t,n){var o=Fe({},t,n.attrs);return l(U,Fe({},o,{icon:dn}),null)};_e.displayName="MenuOutlined";_e.inheritAttrs=!1;var pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};function Re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){vn(e,r,n[r])})}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(t,n){var o=Re({},t,n.attrs);return l(U,Re({},o,{icon:pn}),null)};Se.displayName="MenuUnfoldOutlined";Se.inheritAttrs=!1;var mn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"};function Ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){gn(e,r,n[r])})}return e}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(t,n){var o=Ue({},t,n.attrs);return l(U,Ue({},o,{icon:mn}),null)};ke.displayName="RobotOutlined";ke.inheritAttrs=!1;var bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};function We(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){yn(e,r,n[r])})}return e}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(t,n){var o=We({},t,n.attrs);return l(U,We({},o,{icon:bn}),null)};me.displayName="SettingOutlined";me.inheritAttrs=!1;const hn={class:"py-4 flex-col gap-4"},wn={class:"flex-col gap-4"},On={key:1,class:"w-full text-gray-300 text-sm bg-gray-700/40 border border-gray-600 rounded px-3 py-3"},xn={key:2,class:"flex-col items-center gap-2"},Cn=["src"],_n={key:3,class:"flex-col gap-3"},Sn={key:4,class:"flex-col gap-3"},kn={class:"flex gap-2"},$n={key:5,class:"text-error text-sm bg-error/10 border border-error/20 rounded px-3 py-2"},Pn={key:6,class:"text-gray-300 text-sm bg-gray-700/40 border border-gray-600 rounded px-3 py-2"},Mn=oe({__name:"GoofishLoginModal",props:{open:{type:Boolean}},emits:["update:open","success"],setup(e,{emit:t}){const n=e,o=t,r=N(!1),k=N(!1),M=N(!1),$=N(!1),C=N(!1),w=N(0),h=N("qr"),s=N(""),b=N("manual"),O=N(""),p=N(!1),y=N(""),d=wt({username:"",password:"",phone:"",code:""});let c=null,v=null;const P=()=>{c&&(clearInterval(c),c=null)},B=()=>{v&&(clearInterval(v),v=null),w.value=0},D=()=>{B(),w.value=60,v=setInterval(()=>{w.value-=1,w.value<=0&&B()},1e3)},j=()=>{P(),$.value=!1,r.value=!1,k.value=!1,M.value=!1,s.value="",b.value="manual",O.value="",p.value=!1,y.value="",B(),h.value="qr",d.username="",d.password="",d.phone="",d.code=""},H=async m=>{m&&await te("/api/goofish/close_login_session").post({session_id:m}).json()},G=async()=>{if(C.value)return;C.value=!0;const m=s.value;o("update:open",!1),j(),await H(m),C.value=!1},ee=()=>{G()},re=async m=>{if(m){if(m.status==="success"){P(),o("success"),Q.success("咸鱼登录成功"),await G();return}m.status==="error"&&(y.value=m.message||"登录失败，请重试")}},le=async()=>{if(!s.value||$.value)return;$.value=!0;const{data:m,error:x}=await te("/api/goofish/check_login").post({session_id:s.value}).json();$.value=!1,!x.value&&await re(m.value)},se=()=>{P(),c=setInterval(()=>{le()},2e3)},ie=async()=>{r.value=!0,y.value="";const{data:m,error:x}=await te("/api/goofish/start_login").post({timeout_seconds:180}).json();r.value=!1,!(x.value||!m.value)&&(s.value=m.value.session_id,b.value=m.value.login_mode,O.value=m.value.qrcode||"",p.value=m.value.login_mode==="auto"||!m.value.qrcode,se())},ce=async()=>{if(!s.value){Q.warning("登录会话不存在，请重新打开登录弹窗");return}if(!d.phone.trim()){Q.warning("请输入手机号");return}if(w.value>0)return;M.value=!0;const{error:m}=await te("/api/goofish/send_sms_code").post({session_id:s.value,phone:d.phone.trim()}).json();M.value=!1,m.value||(Q.success("验证码已发送"),D())},ne=async()=>{if(!s.value){Q.warning("登录会话不存在，请重新打开登录弹窗");return}const m={session_id:s.value,login_type:h.value};if(h.value==="password"){if(!d.username.trim()||!d.password.trim()){Q.warning("请输入账号和密码");return}m.username=d.username.trim(),m.password=d.password}if(h.value==="sms"){if(!d.phone.trim()||!d.code.trim()){Q.warning("请输入手机号和验证码");return}m.phone=d.phone.trim(),m.code=d.code.trim()}k.value=!0,y.value="";const{data:x,error:W}=await te("/api/goofish/login").post(m).json();k.value=!1,!W.value&&await re(x.value)};return X(()=>n.open,m=>{if(m){ie();return}j()}),Ot(()=>{P(),B()}),(m,x)=>{const W=Bt,i=Dt,u=Ct,_=_t,T=St,F=Nt,ae=xt;return z(),Y(ae,{open:e.open,title:"登录咸鱼","confirm-loading":a(k),"ok-button-props":{disabled:a(C)},"cancel-button-props":{disabled:a(C)},"cancel-text":a(C)?"正在清理会话...":"取消",closable:!a(C),"mask-closable":!a(C),keyboard:!a(C),"mask-style":{backdropFilter:"blur(4px)",background:"rgba(0,0,0,0.6)"},"wrap-class-name":"dark-modal",onOk:ne,onCancel:ee},{default:f(()=>[g("div",hn,[x[9]||(x[9]=g("div",{class:"text-gray-400 text-sm"}," 该登录仅用于获取咸鱼 Cookie ",-1)),l(F,{spinning:a(r)},{default:f(()=>[g("div",wn,[a(b)==="manual"?(z(),Y(i,{key:0,value:a(h),"onUpdate:value":x[0]||(x[0]=I=>Je(h)?h.value=I:null),"button-style":"solid",class:"w-full"},{default:f(()=>[l(W,{value:"qr"},{default:f(()=>[...x[5]||(x[5]=[q(" 扫码登录 ",-1)])]),_:1}),l(W,{value:"sms"},{default:f(()=>[...x[6]||(x[6]=[q(" 短信验证码 ",-1)])]),_:1}),l(W,{value:"password"},{default:f(()=>[...x[7]||(x[7]=[q(" 账号密码 ",-1)])]),_:1})]),_:1},8,["value"])):A("",!0),a(b)==="auto"?(z(),L("div",On," 当前为自动登录流程，请等待自动登录完成。 ")):A("",!0),a(b)==="manual"&&a(h)==="qr"?(z(),L("div",xn,[a(O)?(z(),L("img",{key:0,src:a(O),alt:"qrcode",class:"w-40 h-40 rounded-lg border border-gray-700 bg-white p-2"},null,8,Cn)):A("",!0),x[8]||(x[8]=g("div",{class:"text-xs text-gray-400"}," 请使用闲鱼 App 扫码 ",-1))])):A("",!0),a(b)==="manual"&&a(h)==="password"?(z(),L("div",_n,[l(u,{value:a(d).username,"onUpdate:value":x[1]||(x[1]=I=>a(d).username=I),placeholder:"请输入账号"},null,8,["value"]),l(_,{value:a(d).password,"onUpdate:value":x[2]||(x[2]=I=>a(d).password=I),placeholder:"请输入密码"},null,8,["value"])])):A("",!0),a(b)==="manual"&&a(h)==="sms"?(z(),L("div",Sn,[l(u,{value:a(d).phone,"onUpdate:value":x[3]||(x[3]=I=>a(d).phone=I),placeholder:"请输入手机号"},null,8,["value"]),g("div",kn,[l(u,{value:a(d).code,"onUpdate:value":x[4]||(x[4]=I=>a(d).code=I),placeholder:"请输入短信验证码"},null,8,["value"]),l(T,{loading:a(M),disabled:a(w)>0,onClick:ce},{default:f(()=>[q(ze(a(w)>0?`${a(w)}s后重试`:"获取验证码"),1)]),_:1},8,["loading","disabled"])])])):A("",!0),a(b)==="manual"&&a(h)!=="qr"&&a(y)?(z(),L("div",$n,ze(a(y)),1)):A("",!0),a(C)?(z(),L("div",Pn," 正在清理会话，请稍候... ")):A("",!0)])]),_:1},8,["spinning"])])]),_:1},8,["open","confirm-loading","ok-button-props","cancel-button-props","cancel-text","closable","mask-closable","keyboard"])}}}),jn={class:"flex-y-center justify-between h-[64px] px-6 border-b border-gray-100/10 bg-gray-950/40 backdrop-blur-md"},zn={class:"flex-y-center gap-3"},Dn={class:"hidden sm:flex flex-center w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 shadow-lg shadow-primary-500/30"},Bn={class:"flex-y-center gap-3"},Nn={class:"flex-center w-9 h-9 rounded-lg border border-gray-100/15 bg-gray-950/30 text-gray-400 hover:text-gray-100 hover:bg-gray-100/5 transition-colors",type:"button","aria-label":"切换主题强调色"},Hn={class:"flex-y-center gap-2 px-3 py-1.5 rounded-full bg-success/10 border border-success/20 cursor-pointer hover:bg-success/20 transition-colors group"},Tn=oe({__name:"Header",props:{showMenuTrigger:{type:Boolean,default:!1}},emits:["menu-trigger"],setup(e,{emit:t}){const n=t,o=Qe(),r=N(!1),{data:k,execute:M}=te("/api/goofish/status").json(),$=()=>{r.value=!0},C=async()=>{await M()},w=async()=>{const{error:h}=await te("/api/goofish/state/delete").delete();h.value||(k.value=0,Q.success("删除成功"))};return(h,s)=>{const b=et,O=Ke,p=Ht;return z(),L("header",jn,[g("div",zn,[e.showMenuTrigger?(z(),L("button",{key:0,class:"sm:hidden flex-center w-9 h-9 rounded-lg border bg-primary-500 border-white/15 text-gray-200 hover:text-white hover:bg-white/10 transition-colors",type:"button","aria-label":"打开导航菜单",onClick:s[0]||(s[0]=y=>n("menu-trigger"))},[l(a(_e),{class:"text-lg"})])):A("",!0),g("div",Dn,[l(a(ke),{class:"text-xl text-white"})]),s[6]||(s[6]=g("h2",{class:"hidden sm:block text-xl font-bold m-0 tracking-wide text-primary-400"}," 闲鱼监控机器人 ",-1))]),g("div",Bn,[g("button",{class:"flex-center w-9 h-9 rounded-lg border border-gray-100/15 bg-gray-950/30 text-gray-400 hover:text-gray-100 hover:bg-gray-100/5 transition-colors",type:"button","aria-label":"切换浅色/深色",onClick:s[1]||(s[1]=(...y)=>a(o).toggleMode&&a(o).toggleMode(...y))},[l(a(xe),{class:Ze(["text-lg",a(o).theme.mode==="light"?"text-warning":""])},null,8,["class"])]),l(p,{placement:"bottomRight",trigger:"click"},{overlay:f(()=>[l(O,{class:"!bg-gray-800 !border !border-gray-700 !shadow-xl !rounded-lg overflow-hidden"},{default:f(()=>[l(b,{class:"!text-gray-200 hover:!bg-gray-700",onClick:s[2]||(s[2]=y=>a(o).setAccent("blue"))},{icon:f(()=>[a(o).theme.accent==="blue"?(z(),Y(a(ye),{key:0})):A("",!0)]),default:f(()=>[s[7]||(s[7]=q(" 科技蓝 ",-1))]),_:1}),l(b,{class:"!text-gray-200 hover:!bg-gray-700",onClick:s[3]||(s[3]=y=>a(o).setAccent("teal"))},{icon:f(()=>[a(o).theme.accent==="teal"?(z(),Y(a(ye),{key:0})):A("",!0)]),default:f(()=>[s[8]||(s[8]=q(" 青绿色 ",-1))]),_:1}),l(b,{class:"!text-gray-200 hover:!bg-gray-700",onClick:s[4]||(s[4]=y=>a(o).setAccent("indigo"))},{icon:f(()=>[a(o).theme.accent==="indigo"?(z(),Y(a(ye),{key:0})):A("",!0)]),default:f(()=>[s[9]||(s[9]=q(" 靛蓝色 ",-1))]),_:1})]),_:1})]),default:f(()=>[g("button",Nn,[l(a(Oe),{class:"text-lg"})])]),_:1}),a(k)===1?(z(),Y(p,{key:0},{overlay:f(()=>[l(O,{class:"!bg-gray-800 !border !border-gray-700 !shadow-xl !rounded-lg overflow-hidden"},{default:f(()=>[l(b,{class:"!text-gray-200 hover:!bg-gray-700",onClick:$},{default:f(()=>[...s[12]||(s[12]=[q(" 重新登录咸鱼 ",-1)])]),_:1}),l(b,{class:"!text-red-400 hover:!bg-red-900/20",onClick:w},{icon:f(()=>[l(a(zt))]),default:f(()=>[s[13]||(s[13]=q(" 删除 Cookie ",-1))]),_:1})]),_:1})]),default:f(()=>[g("div",Hn,[s[10]||(s[10]=g("div",{class:"w-2 h-2 rounded-full bg-success animate-pulse"},null,-1)),s[11]||(s[11]=g("span",{class:"text-success font-medium text-sm group-hover:text-success/90"},"咸鱼已登录",-1)),l(a(Tt),{class:"text-success ml-1"})])]),_:1})):(z(),L("div",{key:1,class:"flex-y-center gap-2 px-3 py-1.5 rounded-full border cursor-pointer transition-colors group bg-error/10 border-error/20 hover:bg-error/20",onClick:$},[s[14]||(s[14]=g("div",{class:"w-2 h-2 rounded-full bg-error"},null,-1)),s[15]||(s[15]=g("span",{class:"font-medium text-sm text-error group-hover:text-error/90"},"未登录(点击登录咸鱼)",-1)),l(a(kt),{class:"ml-1 text-error"})]))]),l(Mn,{open:a(r),"onUpdate:open":s[5]||(s[5]=y=>Je(r)?r.value=y:null),onSuccess:C},null,8,["open"])])}}}),In={class:"flex-col h-full overflow-hidden bg-transparent"},An={class:"flex flex-1 h-0 overflow-hidden relative"},Ln={class:"flex-1 overflow-y-auto overflow-x-hidden py-2"},En={class:"flex-1 relative overflow-hidden bg-transparent"},Vn={class:"relative z-10 h-full overflow-auto p-3 sm:p-4"},Gn=oe({__name:"index",setup(e){const t=Qe(),n=R(()=>t.theme.mode==="dark"?"dark":"light"),o=Mt(),r=jt(),k=N(!1),M=N(!1),$=N("/tasks"),C=O=>O.startsWith("/logs")?"/logs":["/tasks","/result","/system"].includes(O)?O:"/tasks",w=()=>{k.value=!k.value};X(()=>r.path,O=>{$.value=C(O)},{immediate:!0});const h=()=>{M.value=!0},s=()=>{M.value=!1},b=O=>{o.push(O.key),s()};return(O,p)=>{const y=et,d=Ke,c=Kt,v=$t("router-view");return z(),L("div",In,[l(Tn,{class:"z-20 shadow-md","show-menu-trigger":!0,onMenuTrigger:h}),g("div",An,[g("div",{class:Ze(["hidden sm:flex flex-col h-full transition-all duration-300 ease-out border-r border-gray-100/10 bg-gray-950/40 backdrop-blur-md z-10",a(k)?"w-20":"w-64"])},[g("div",Ln,[l(d,{class:"!bg-transparent !border-r-0",mode:"inline",theme:a(n),"inline-collapsed":a(k),"selected-keys":[a($)],onClick:b},{default:f(()=>[l(y,{key:"/tasks",icon:()=>J(a(fe))},{default:f(()=>[...p[0]||(p[0]=[g("span",null,"任务管理",-1)])]),_:1},8,["icon"]),l(y,{key:"/result",icon:()=>J(a(pe))},{default:f(()=>[...p[1]||(p[1]=[g("span",null,"结果查看",-1)])]),_:1},8,["icon"]),l(y,{key:"/logs",icon:()=>J(a(ve))},{default:f(()=>[...p[2]||(p[2]=[g("span",null,"任务日志",-1)])]),_:1},8,["icon"]),l(y,{key:"/system",icon:()=>J(a(me))},{default:f(()=>[...p[3]||(p[3]=[g("span",null,"系统设置",-1)])]),_:1},8,["icon"])]),_:1},8,["theme","inline-collapsed","selected-keys"])]),g("div",{class:"h-12 flex-center cursor-pointer hover:bg-gray-100/5 border-t border-gray-100/10 text-gray-400 hover:text-gray-100 transition-colors",onClick:w},[a(k)?(z(),Y(a(Se),{key:0,class:"text-lg"})):(z(),Y(a(Ce),{key:1,class:"text-lg"}))])],2),l(c,{class:"sm:hidden",open:a(M),placement:"left",width:"260",closable:!1,"mask-closable":!0,"body-style":{padding:"8px 0",background:"rgb(var(--gray-950) / 0.98)"},onClose:s},{default:f(()=>[l(d,{class:"!bg-transparent !border-r-0",mode:"inline",theme:a(n),"selected-keys":[a($)],onClick:b},{default:f(()=>[l(y,{key:"/tasks",icon:()=>J(a(fe))},{default:f(()=>[...p[4]||(p[4]=[g("span",null,"任务管理",-1)])]),_:1},8,["icon"]),l(y,{key:"/result",icon:()=>J(a(pe))},{default:f(()=>[...p[5]||(p[5]=[g("span",null,"结果查看",-1)])]),_:1},8,["icon"]),l(y,{key:"/logs",icon:()=>J(a(ve))},{default:f(()=>[...p[6]||(p[6]=[g("span",null,"任务日志",-1)])]),_:1},8,["icon"]),l(y,{key:"/system",icon:()=>J(a(me))},{default:f(()=>[...p[7]||(p[7]=[g("span",null,"系统设置",-1)])]),_:1},8,["icon"])]),_:1},8,["theme","selected-keys"])]),_:1},8,["open"]),g("main",En,[p[8]||(p[8]=g("div",{class:"absolute-lt wh-full pointer-events-none overflow-hidden z-0"},[g("div",{class:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] rounded-full bg-primary-500/10 blur-[120px]"}),g("div",{class:"absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] rounded-full bg-secondary-500/10 blur-[100px]"})],-1)),g("div",Vn,[l(v,null,{default:f(({Component:P})=>[l(we,{name:"fade-slide",mode:"out-in"},{default:f(()=>[(z(),Y(Pt(P)))]),_:2},1024)]),_:1})])])])])}}});export{Gn as default};
